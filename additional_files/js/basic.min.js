var curLocation,curPage,totPage,curROrder,Rows,tmpArr,titleT,persons;const RECORDS_PER_PAGE=50,MEMOS_PER_PAGE=50;!function(t,e,o){"use strict";t.getStorage=localStorage.getItem.bind(localStorage),t.setStorage=localStorage.setItem.bind(localStorage);let r,a="in-problemset"===getStorage("codeforces-portal"),n="minor"===getStorage("atcoder-portal");const s={Luogu:"洛谷",SPOJ:"Sphere OJ",SOJ:"Simple OJ/Stupid OJ",Local:"本地",Unknown:"一些看似不是很知名的 OJ，快去问一问大佬们吧"},c={lydsy:"Lydsy",lg:"Luogu",vijos:"Vijos",hdu:"HDU",poj:"POJ",uoj:"UOJ",loj:"LibreOJ",simpleoj:"SOJ",soj:"SOJ",cf:"Codeforces",gym:"Codeforces",cc:"Codechef",ac:"AtCoder",agc:"AtCoder",arc:"AtCoder",abc:"AtCoder",spoj:"SPOJ"},i={lydsy:[/^(\d+)$/,t=>`https://darkbzoj.tk/problem/${t}`],lg:[/^([TU]?)(\d+)$/,(t,e)=>`https://www.luogu.com.cn/problem/${t||"P"}${e}`],vijos:[/^(\d+)$/,t=>`https://vijos.org/p/${t}`],hdu:[/^(\d+)$/,t=>`http://acm.hdu.edu.cn/showproblem.php?pid=${t}`],poj:[/^(\d+)$/,t=>`http://poj.org/problem?id=${t}`],uoj:[/^(\d+)$/,t=>`https://uoj.ac/problem/${t}`],loj:[/^(\d+)$/,t=>`https://loj.ac/p/${t}`],simpleoj:[/^(\d+)$/,t=>`http://10.49.27.23/problem?id=${t}`],soj:[/^(\d+)$/,t=>`http://10.49.18.71/problem/${t}`],cf:[/^(\d+)([A-Z]\d*)$/,a?(t,e)=>`https://codeforces.com/problemset/problem/${t}/${e}`:(t,e)=>`https://codeforces.com/contest/${t}/problem/${e}`],gym:[/^(\d+)([A-Z]\d*)$/,(t,e)=>`https://codeforces.com/gym/${t}/problem/${e}`],cc:[/^(\w+)$/,t=>`https://www.codechef.com/problems/${t}/`],ac:[/^(\d+)$/,function(t){r===o&&function(){if("0joisc2022_a"==x);}();return r[t]||""}],agc:[/^(\d+)([A-Z])$/,n?(t,e)=>`https://agc${t}.contest.atcoder.jp/tasks/agc${t}_${p(e,32)}`:(t,e)=>`https://atcoder.jp/contests/agc${t}/tasks/agc${t}_${p(e,32)}`],arc:[/^(\d+)([A-Z])$/,n?(t,e)=>`https://arc${t}.contest.atcoder.jp/tasks/arc${t}_${p(e,30)}`:(t,e)=>`https://atcoder.jp/contests/arc${t}/tasks/arc${t}_${p(e,30)}`],abc:[/^(\d+)([A-Z])$/,n?(t,e)=>`https://abc${t}.contest.atcoder.jp/tasks/abc${t}_${p(e,32)}`:(t,e)=>`https://atcoder.jp/contests/abc${t}/tasks/abc${t}_${p(e,32)}`],spoj:[/^(\w+)$/,t=>`http://www.spoj.com/problems/${t}/`]},l={Always:"",bestFy:"https://bestfy.cnblogs.com/",_ChenKerui:"",daklqw:"https://daklqw.cnblogs.com/",ddfsb:"",ddpag:"",des3ns1tized_:"","ig-Rookie":"","ig-TheShy":"https://www.cnblogs.com/xuanyiming/",lbn187:"",lych_cys:"https://blog.csdn.net/lych_cys/",lyx_cjz:"",Memory_of_winter:"https://www.cnblogs.com/Memory-of-winter/",memset0c:"https://memset0.cn/",miaom:"",mrsrz:"https://mrsrz.github.io/",msuwakow:"https://www.cnblogs.com/suwakow/",nbdhhzh:"",ouuan:"https://ouuan.github.io/",qiqi20021026:"https://bomb-chicken.github.io/",remember:"",shaochengxi:"https://scx117.cnblogs.com/",skip1978:"https://www.cnblogs.com/skip1978/",skip2004:"",skylee:"https://skylee03.cnblogs.com/",StudyingFather:"https://studyingfather.com/",suncongbo:"https://www.cnblogs.com/suncongbo/",TOMCATa:"",wanglichao1121:"",weng_233:"",weng_weijie:"",wzf2000:"https://wzf2000.top/"};function p(t,e){return String.fromCharCode(t.charCodeAt()+e)}function h(t,e){let o,r=getSite(t.substr(0,e));return r&&(o=t.substr(e).match(r[0]))?r[1].apply(null,o.slice(1)):""}persons=Object.keys(l),t.dateFormat=function(t){let e=t.getMinutes(),o=t.getSeconds();return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()} ${t.getHours()}:${e<10?"0":""}${e}:${o<10?"0":""}${o}`},t.updTime=function(){e("#dispTime").html("当前时间: "+dateFormat(new Date))},t.htmlspecialchars=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.htmlspecialcharsDecode=function(t){return t.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},t.stripTags=function(t){return t.replace(/<([^"]*?"[^"]*?")*?[^"]*?>/g,"")},t.html2Text=function(t){return htmlspecialcharsDecode(stripTags(t))},t.htmlBalance=function(t,e=""){return t.replace(/<([^"]*?"[^"]*?")*?[^"]*?>/g,t=>e.repeat(t.length))},t.parseStr=function(t){let e,o,r={};for(e of(t.startsWith("?")?t.substr(1):t).split("&"))(o=e.split("="))[1]&&(r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]));return r},t.queryStringEncode=function(t){return Object.keys(t).sort().filter(e=>t[e]).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&")},t.getUri=function(t){let e=queryStringEncode(t);return location.href.replace(/[?#].*/,"")+(e?"?"+e:"")},t.getPageUri=function(t){let e=parseStr(location.search);return e.page=1===t?"":t.toString(),getUri(e)},t.getTagUri=function(t){let e=parseStr(location.search);return e.tag=t,e.page="",e.from="",getUri(e)},t.getDisplay=function(t){return s.hasOwnProperty(t)?s[t]:t},t.getNorm=function(t){return c.hasOwnProperty(t)?c[t]:null},t.getSite=function(t){return i.hasOwnProperty(t)?i[t]:null},t.getFL=function(t){return l.hasOwnProperty(t)?l[t]:null},t.pagination=function(){if(totPage>1){let t,o,r=e("#pagination");for(o of(curPage>1?r.append(e("<li />").html('<a href="'+getPageUri(1)+'">&laquo;</a>')).append(e("<li />").html('<a href="'+getPageUri(curPage-1)+'">&lt;</a>')):r.append(e('<li class="disabled">').html("<a>&laquo;</a>")).append(e('<li class="disabled">').html("<a>&lt;</a>")),function(t,e,o){let r,a=[];switch(o){case"doubling":for(a=[t],r=2;r<=t;r<<=1)a.unshift(t-r+1);for(1!==a[0]&&a.unshift(1),r=2;r<=e-t+1;r<<=1)a.push(t+r-1);a[a.length-1]!==e&&a.push(e);break;case"binary":for(a=[t],r=t-1;r>0;r&=r-1)a.unshift(r);for(1!==a[0]&&a.unshift(1),r=1===t?(a.push(2),3):t+1;r<=e;r|=r-1,++r)a.push(r);a[a.length-1]!==e&&a.push(e);break;default:for(r=Math.max(t-4,1);r<=Math.min(t+4,totPage);++r)a.push(r)}return a}(curPage,totPage,getStorage("pagination"))))o===curPage?r.append(e("<li />").append(t=e('<input type="number" id="selPage" class="cen" min="1" max="'+totPage.toString()+'" value="'+curPage.toString()+'" />'))):r.append(e("<li />").html('<a href="'+getPageUri(o)+'">'+o+"</a>"));if(curPage<totPage?r.append(e("<li />").html('<a href="'+getPageUri(curPage+1)+'">&gt;</a>')).append(e("<li />").html('<a href="'+getPageUri(totPage)+'">&raquo;</a>')):r.append(e('<li class="disabled">').html("<a>&gt;</a>")).append(e('<li class="disabled">').html("<a>&raquo;</a>")),!t)return;t.keypress(function(t){if(13===t.which||13===t.keyCode){let t=parseInt(this.value);1<=t&&t<=totPage?location.href=getPageUri(t):alert("你都输入的些什么呀，认真点！")}}).blur(function(){let t=parseInt(this.value);t===curPage||(1<=t&&t<=totPage?location.href=getPageUri(t):this.value=curPage.toString())}),e(document).keyup(function(t){"INPUT"!==t.target.nodeName.toUpperCase()&&(37===t.which||37===t.keyCode?curPage>1&&(location.href=getPageUri(curPage-1)):39!==t.which&&39!==t.keyCode||curPage<totPage&&(location.href=getPageUri(curPage+1)))})}},t.initPage=function(){if(updTime(),setInterval(updTime,250),"on"===getStorage("marquee")&&(e("#intro").show().get(0).start(),e("#ctrl-marquee>.hint").html("关闭字幕")),e("#ctrl-marquee").click(function(){let t=e("#intro"),o=e("#ctrl-marquee>.hint");setStorage("marquee",t.is(":hidden")?(t.show().get(0).start(),o.html("关闭字幕"),"on"):(t.hide(),o.html("开启字幕"),"off"))}),e("#ctrl-export").click(function(){if(!Rows)return alert("导出失败：本页面无表格");let t,o,r;for(t of Rows)t.parentNode&&(o=t.parentNode.parentNode);if(!o)return alert("导出失败：无法找到表格行所对应的表格");for(t of(r=[Array.prototype.map.call(o.tHead.children[0].children,t=>'"'+t.innerText+'"').join(",")+"\n"],Rows))r.push(Array.prototype.map.call(t.children,t=>"链接"===t.innerText?'"'+t.children[0].href+'"':e.isNumeric(t.innerText)?t.innerText:'"'+t.innerText.trim()+'"').join(",")+"\n");t=URL.createObjectURL(new Blob(r,{type:"text/csv, charset=utf-8"})),e('<a href="'+t+'" download="export.csv"></a>').get(0).click(),URL.revokeObjectURL(t)}),e("#motto").fadeTo(2e3,1,function(){e(this).css("opacity","")}),"off"!==getStorage("check-version")){let o,r="7.4.11";e.ajax("https://yhx-12243.github.io/OI-transit/additional_files/others/version",{type:"GET",cache:!1,success:a=>{natcmp(r,a=a.trim())<0&&(o="Warning: 当前 OI-transit 版本 ("+r+") 非最新版本 ("+a+")，请前往 https://github.com/yhx-12243/OI-transit 获取最新版。",console.log(o),confirm(o+"\n    (点击确定进入 GitHub，点击取消不再提醒)")?t.open("https://github.com/yhx-12243/OI-transit"):(alert("Tip: 版本检查可以在「小工具」中「更多设置」里重新打开。"),setStorage("check-version","off"),e("#status-check-version").html("off").css("color","#09f"),e("#toggle-check-version").html("开启")))}})}},t.recordMatch=function(t,e,o){let r,a,n=0,s=0,c=o.search,i=[],l=[],p=[],g=[],u=[];if(e){for(r of t[0].split(";"))if(~(a=r.search(/[^a-z]/))){let t=r.substr(0,a);"Unknown"===e?a&&!getNorm(t)&&i.push(r):"Local"===e?a||i.push(r):getNorm(t)===e&&i.push(r)}}else i=t[0].split(";");if(!i.length)return[];if(o.tag&&!~(";"+html2Text(t[4])+";").indexOf(";"+o.tag+";"))return[];for(r of(c&&(n=o.search.length),i))c&&~(a=r.toUpperCase().indexOf(c.toUpperCase()))?(++s,l.push(r.substr(0,a)+"<strong>"+r.substr(a,n)+"</strong>"+r.substr(a+n))):l.push(r),a=r.search(/[^a-z]/),p.push(~a?h(r,a):"");for(r of t[4].split(";")){let t=html2Text(r);c&&~(a=htmlBalance(r).toUpperCase().indexOf(c.toUpperCase()))?(++s,g.push(r.substr(0,a)+"<strong>"+r.substr(a,n)+"</strong>"+r.substr(a+n))):g.push(r),u.push(getTagUri(t))}return i=[c&&c===t[5]?(++s,"<strong>"+t[5]+"</strong>"):t[5]],c&&!s?[]:(i.push(l.map((t,e)=>p[e]?'<a href="'+p[e]+'" target="_blank">'+t+"</a>":t).join(";")),i.push(g.map((t,e)=>'<a href="'+u[e]+'">'+t+"</a>").join(";")),i)}}(window||this,jQuery);